<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WanderShare — Community Travel</title>
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="main.js" defer></script>
  <link rel="icon" href="data:,">
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-label="WanderShare logo">WS</div>
        <div>
          <h1>WanderShare</h1>
          <p class="subtitle">Share travel photos and stories</p>
        </div>
      </div>
      <nav>
        <button id="authBtn" class="btn" aria-label="Sign in with email">Sign in</button>
        <button id="signUpBtn" class="btn ghost" aria-label="Sign up with email">Sign up</button>
        <button id="signOutBtn" class="btn ghost" hidden aria-label="Sign out">Sign out</button>
      </nav>
    </header>

    <main>
      <section class="content" id="feed" aria-label="Post Feed">
        <div class="card">Loading posts…</div>
      </section>

      <aside>
        <div class="card">
          <strong id="userGreeting">Welcome</strong>
          <p class="muted">Sign in to post and manage uploads.</p>
        </div>

        <div class="card">
          <strong>Share a Photo & Story</strong>
          <form id="shareForm" aria-label="Share a travel story">
            <label for="title">Title</label>
            <input id="title" type="text" required placeholder="e.g. Sunset in Goa" />

            <label for="location">Location</label>
            <input id="location" type="text" placeholder="e.g. Goa, India" />

            <label for="image">Image</label>
            <input id="image" type="file" accept="image/*" aria-label="Upload a travel photo" />

            <label for="story">Story</label>
            <textarea id="story" required placeholder="Write your travel experience here..."></textarea>

            <div class="form-actions">
              <button type="button" id="clearBtn" class="btn ghost">Clear</button>
              <button type="submit" id="postBtn" class="btn primary">Post</button>
            </div>

            <div id="status" class="form-status" aria-live="polite"></div>
          </form>
        </div>

        <div class="card">
          <strong>Gallery</strong>
          <div id="gallery" class="gallery-grid" aria-label="Photo Gallery"></div>
        </div>
      </aside>
    </main>

    <footer>
      <small>© 2025 WanderShare</small>
    </footer>
  </div>

  <!-- Post Template -->
  <template id="postTpl">
    <article class="post">
      <img class="post-image" alt="Travel photo" />
      <div class="post-body">
        <div class="meta">
          <span class="date"></span> • <span class="place"></span>
        </div>
        <h3 class="post-title"></h3>
        <p class="post-text"></p>
        <div class="post-footer">
          <div class="author"></div>
        </div>
      </div>
    </article>
  </template>

  <!-- Auth Modal -->
  <div id="authModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content">
      <h2 id="modalTitle">Sign In</h2>
      <form id="authForm">
        <input type="email" id="modalEmail" placeholder="Email" required />
        <input type="password" id="modalPassword" placeholder="Password" required />
        <button type="submit" class="btn primary">Continue</button>
        <p id="modalMessage" class="form-status" aria-live="polite"></p>
      </form>
      <button id="closeModal" class="btn ghost">Cancel</button>
    </div>
  </div>

  <!-- ✅ Debug Script to Confirm JS Is Running -->
  <script>
    console.log("✅ index.html loaded");
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("authForm");
      if (form) {
        form.addEventListener("submit", () => {
          console.log("✅ authForm submit triggered");
        });
      } else {
        console.warn("⚠️ authForm not found");
      }
    });
  </script>
</body>
</html>